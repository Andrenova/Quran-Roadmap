<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0"/>
  <meta name="google-site-verification" content="mvjvzdcZCsZ1tuwXdxdQJnF94P8azBZDrBPfC7gsdcI" />

  <title>Qur'an Roadmap - Reflect your interaction with Qur'an</title>
</head>

<body>

  <div class="modals">
    <div class="modal fade" id="deeds-info">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">About deeds</h4>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-sm-2 text-center text-info"><span class="fa fa-info-circle fa-4x"></span><br><hr></div>
              <div class="col-sm-8">
                <p>The Deeds section contains deeds from today's qur'an recitataion portion which you can act upon.</p>
                <p>These deeds mean to be secret between you and Allah alone. 
                That's why the default state is <strong>'private'</strong> (depicted by <span class="fa fa-eye-slash"></span>) for each deed. 
                However, if you really think they will inspire and benefit others. You may change it into public by clicking the eye icon.</p>
              </div>
            </div>
            
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!-- /#deeds-info -->

    <div class="modal fade" id="about">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title">About</h4>
          </div>
          <div class="modal-body">

            <p class="lead text-center">Simple Quran Road Map App.</p>
            <p class="text-center">developed by <a href="http://twitter.com/nurulishlah">@nurulishlah</a> on top of <a href="https://www.meteor.com/">MeteorJS.</a></p>
            <hr>
            <p><strong>Credits:</strong></p>
            <ul>
              <li>Nasmira Firdous - <a href="http://blog.islamiconlineuniversity.com/quran-road-map-ramadan-2015/">Qur'an Road Map Ramadhan 2015</a></li>
              <li><a href="http://quran.com">Qur'an</a></li>
            </ul>
            <p>License: <a href="http://opensource.org/licenses/MIT">MIT</a>. Go to <a href="https://github.com/Andrenova/Quran-Roadmap">GitHub</a> to fork or contribute.</p>
            
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    <!-- /#about -->

    {{>removeReflection}}

    {{>removeDeed}}

  </div>
  
  <!-- Google tracking -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-58072873-2', 'auto');
    ga('send', 'pageview');

  </script>

</body>

<template name="removeReflection">

  <div class="modal fade" id="remove-reflection-modal">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Confirmation</h4>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to remove this reflection?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger yes-remove">Yes</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  
</template>

<template name="removeDeed">

  <div class="modal fade" id="remove-deed-modal">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title">Confirmation</h4>
        </div>
        <div class="modal-body">
          <p>Are you sure you want to remove this deed?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger yes-remove">Yes</button>
          <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        </div>
      </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
  </div><!-- /.modal -->
  
</template>

<!-- basic layout template -->
<template name="layout">

  <div class="container">
    {{>header}}

    {{>firstInfo}}
    
    <div class="main">
      {{> yield}}
    </div>
    <!-- /.main -->
    
    <div class="footer">
      <hr>
      <p class="text-center">Copyleft &copy; <a href="http://twitter.com/nurulishlah/">@nurulishlah</a>, inspired by <a href="http://blog.islamiconlineuniversity.com/quran-road-map-ramadan-2015/">Quran Road Map IOU</a> | <a href="#about" data-toggle="modal">About</a> • <a href="https://github.com/Andrenova/Quran-Roadmap/issues/new">Feedback</a> • <a href="https://github.com/Andrenova/Quran-Roadmap" title="Fork on GitH">GitHub</a></p>
    </div>
    <!-- /.footer -->
  </div>
  
</template>

<template name="header">
  <nav class="navbar navbar-default" role="navigation">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="{{pathFor 'surahList'}}">Qur'an Roadmap</a>
    </div>
  
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav navbar-right">
        {{>loginButtons}}
      </ul>
    </div><!-- /.navbar-collapse -->
  </nav>
  <!-- /.navbar -->
</template>

<template name="firstInfo">
  {{#if isNotRead}}
    <div class="first-alert alert alert-info alert-dismissible" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      Welcome to the <strong>Quran Road Map</strong>. This app is based on <strong><a href="http://blog.islamiconlineuniversity.com/quran-road-map-ramadan-2015/">Quran Road Map Article</a></strong>.
      If you haven't read it yet, we suggest you to do so before using this app.
    </div>
    <!-- /.first-alert -->
  {{/if}}
</template>

<!-- surahList template -->
<template name="surahList">
  <div class="surahs">
    {{#each surahs}}
      {{>surahItem}}
    {{/each}}
  </div>
</template>

<!-- surahItem template -->
<template name="surahItem">
  <div class="surah panel panel-default">
    <div class="panel-body">
      <p class="text-muted"><strong>Day {{day}}</strong></p>
      <h3><a href="{{pathFor 'surahPage'}}">{{title}}</a> : <small>{{ayah}}</small></h3>
    </div>
    <div class="panel-footer meta-surah">
      <ul class="list-inline">
        <li><span class="fa fa-bookmark-o text-muted"></span> <a href="{{pathFor 'surahPage'}}/#new-reflection">{{reflectionsCount}} Reflections</a></li>
        <li><span class="fa fa-diamond text-muted"></span> <a href="{{pathFor 'surahPage'}}/#new-deed">{{deedsCount}} Deeds</a></li>
      </ul>
    </div>
  </div>
</template>

<!-- deedItem template -->
<template name="deedItem">
  <!-- pending for later -->
  <!-- <li class="list-group-item">
    <form class="form edit-deed">
      <div class="input-group input-group-sm">
        <input type="text" name="edited-content" class="form-control" aria-label="..." value="{{content}}">
        <span class="input-group-btn">
          <button type="submit" class="btn btn-success"><span class="fa fa-floppy-o"></span></button>
        </span>
      </div>
    </form>
  </li> -->
  <li class="list-group-item">
    {{#if isOwner}}
    <ul class="list-inline pull-right">
      {{#if isPrivate}}

        <li class="toggle-private"><small><span class="fa fa-eye-slash text-muted"></span></small></li>
      {{else}}
        <li class="toggle-private"><small><span class="fa fa-eye"></span></small></li>
      {{/if}}
      <!-- <li class="edit-deed"><small><span class="fa fa-pencil"></span></small></li> -->
      <li class="remove-deed"><small><span class="fa fa-trash"></span></small></li>
    </ul>
    {{else}}
    <div class="pull-right like-deed"><small><span class="fa fa-thumbs-o-up text-primary"></span> {{liked}}</small></div>
    {{/if}}
    {{content}}
    <span class="clearfix"></span>
  </li>
</template>

<!-- singleSurah page template -->
<template name="surahPage">

  {{>surahItem}}

  {{#if currentUser}}
    <p class="text-center"><small>•</small></p>
  {{else}}
    <p class="lead text-center text-muted">Please sign in to submit a reflection or a deed.</p>
  {{/if}}
  
  <div class="responds row">
    <div class="col-sm-8 reflections">
      <!-- <h4>Reflections <span class="pull-right"><button class="btn btn-default btn-sm">Show mine only</button></span></h4> -->
      <h4>Reflections</h4>
      <span class="clearfix"></span>
      
      <br>

      {{#if anyReflections}}
        {{>reflectionsList}}
      {{else}}
        <p>No reflections to show, please add one.</p>
      {{/if}}
      
      <div id="new-reflection">
        {{#if currentUser}}
          {{>reflectionSubmit}}
        {{/if}}
      </div>
      
    </div>
    <!-- /.reflections -->
    <div class="col-sm-4 deeds">
      <h4>Deeds <small><span class="fa fa-info-circle deeds-info" data-toggle="tooltip" data-placement="top" title="click to see info"></span></small></h4>
      
      {{#if anyDeeds}}
        <ul class="list-group list-deeds">

          {{#each deeds}}
            {{>deedItem}}
          {{/each}}

        </ul>
      {{else}}
        <p>No deeds to show, please add one.</p>
      {{/if}}
      
      <div id="new-deed">
        {{#if currentUser}}
          <form role="form" class="form new-deed">
            
            <div class="input-group">
              <input type="text" name="content" class="form-control" aria-label="..." placeholder="Add new deed (private deed)">
              <span class="input-group-btn">
                <button type="submit" class="btn btn-primary"><span class="fa fa-plus"></span></button>
              </span>
            </div>  
            
          </form>
        {{/if}}
      </div>

    </div>
    <!-- /.deeds -->
  </div>
  <!-- /.responds -->

</template>

<!-- submit reflection form -->
<template name="reflectionSubmit">
  <form role="form" class="new-reflection">
    <legend>Post new reflection</legend>
  
    <div class="form-group">
      <textarea name="reflection-content" id="input" class="form-control" rows="7" placeholder="Type reflection you might found during reciting this surah..."></textarea>
      <span id="helpBlock" class="help-block">You can use <a href="https://en.support.wordpress.com/markdown-quick-reference/" target="blank">Markdown syntax</a> to write your reflections.</span>
    </div>
  
    <div class="pull-right">
      <button type="submit" class="btn btn-primary">Submit</button>
      <button type="button" class="btn btn-danger"><span class="fa fa-trash"></span></button>
    </div>
    <div class="clearfix"></div>
  </form>
</template>

<!-- reflections list template -->
<template name="reflectionsList">
  {{#each reflections}}
    {{>reflectionItem}}
  {{/each}}
</template>

<!-- reflection item template -->
<template name="reflectionItem">
  <div class="panel panel-default reflection">
    <div class="panel-body">
      <h4>{{author}} 
        <small>• {{submittedText}}
        {{#if isOwner}}
          <span class="pull-right toggle-private">
              {{#if isPublic}}
                <span class="fa fa-eye" title="Make this private"></span>
              {{else}}
                <span class="fa fa-eye-slash" title="Make this public"></span>
              {{/if}}
          </span>
          <span class="clearfix"></span>
        {{/if}}
        </small>
      </h4>
      <hr>
      <div class="reflection-content">
      
      {{#if isEditing}}
        <!-- {{#if isNotOwner}}
          <small class="text-muted">This reflection is being edited ...</small>
        {{/if}} -->
        <form class="form edit-reflection-form">
          <div class="form-group">
            <textarea name="edit-reflection" id="edit-reflection" rows="5" class="form-control">{{body}}</textarea>
          </div>
        </form>
      {{else}}
        {{#markdown}}{{body}}{{/markdown}}
      {{/if}}
      </div>
    </div>
    <div class="panel-footer">
      <ul class="list-inline pull-right">

        <!-- <li><span class="fa fa-thumbs-o-up text-primary"></span> You and 9 others like this reflection.</li> -->
        {{#if isEditing}}
          <li class="save-reflection"><span class="fa fa-floppy-o"></span> Save</li>
          <li class="discard-reflection"><span class="fa fa-times"></span> Discard changes</li>

        {{else}}
           {{#if isOwner}}
            <li class="edit-reflection"><span class="fa fa-pencil"></span> Edit</li>
            <li class="remove-reflection"><span class="fa fa-trash"></span> Remove</li>
          {{else}}
            <li><span class="fa fa-thumbs-o-up text-primary like"></span> {{liked}}</li>
          {{/if}}
        {{/if}}
      </ul>
      <span class="clearfix"></span>
    </div>
  </div>
</template>

<!-- 404 template -->
<template name="notFound">
  <div class="jumbotron text-center">
    <h2>404</h2>
    <p>Sorry, we couldn't find a surah of the day.</p>
  </div>
</template>

<!-- loading template -->
<template name="loading">
  {{>spinner}}
</template>